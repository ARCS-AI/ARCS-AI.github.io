
---
title: stm32cube IDE
author: Mrunal
date: 2021-06-09 
categories: [Blogging, Stm32Cube IDE]
tags: [stm32]
math: true
mermaid: true
image:
  src: https://cdn.jsdelivr.net/gh/cotes2020/chirpy-images/commons/devices-mockup.png
---



## code 1

Inside while(1) loop of main function:

```sh
  while (1)
  {
    /* USER CODE END WHILE */
	  HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);
	  HAL_Delay(1000);

    /* USER CODE BEGIN 3 */
  }
  ```

  pin PA5 in pin configuration set to GPIO_output.

  LD2 blinks on the stm32f303re board.


  ## Code 2 : I2C

  USART2 `Asynchronous mode` generate code
  - PA2 --> USART2_TX 
  - PA3 --> USART2_RX

  - PA5 --> GPIO_output

  I2C 
  - PB9 --> I2C1_SDA
  - PB8 --> I2C1_SCL

  Initialize an unsigned integer (uint8_t) buf[12] as shown below for Hal functions with 12 as a big enough number for our array buffer (buf) for now.

  ```
  int main(void)
{
  /* USER CODE BEGIN 1 */
	uint8_t buf[12];
  /* USER CODE END 1 */

  /* MCU Configuration--------------------------------------------------------*/

  /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  HAL_Init();
```

Inside the while(1) loop of the main function:

```sh
strcpy((char*)buf, "Hello!\r\n");
HAL_UART_Transmit(&huart2, buf, strlen((char*)buf), HAL_MAX_DEALY);
HAL_Delay(500);
```
And include "string.h" library at the very top.
> #include "string.h"



